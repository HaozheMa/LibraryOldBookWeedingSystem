@model LibrarySystem.Models.Weights

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
    <style type="text/css">
        .modal {
            position: fixed;
            z-index: 999;
            height: 100%;
            width: 100%;
            top:0;
            background-color: Black;
            filter: alpha(opacity=60);
            opacity: 0.6;
            -moz-opacity: 0.8;
            display: none;
        }
        .center {
            z-index: 1000;
            margin: 150px auto;
            padding: 10px;
            width: 10%;
            background-color: White;
            border-radius: 10px;
            filter: alpha(opacity=100);
            opacity: 1;
            -moz-opacity: 1;
        }
</style>
<h2>Details</h2>

<div>
    <h4>Weights</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            出版年份权重
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Wyear)
        </dd>

        <dt>
            出版社是否百佳权重
        </dt>

        <dd>
            @Html.DisplayFor(model => model.WBaijia)
        </dd>

        <dt>
           复本量权重
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Wduplication)
        </dd>

        <dt>
            最新离架时长权重
        </dt>

        <dd>
            @Html.DisplayFor(model => model.WOffTime)
        </dd>

        <dt>
            单书流通频次权重
        </dt>

        <dd>
            @Html.DisplayFor(model => model.WcirculationFequency)
        </dd>

    </dl>
</div>
<p>
    @using (Ajax.BeginForm("AjaxMethod", "Weights",
           new AjaxOptions
           {
               OnSuccess = "OnSuccess",
               OnFailure = "OnFailure",
               LoadingElementId = "progress"
           }))
    {
        @Html.AntiForgeryToken()
<p>
    <div style="visibility:hidden">
        @Html.TextBoxFor(model => model.Id)
    </div>
    
    <div class="form-actions no-color">
        <input type="submit" value="应用" class="btn btn-default" /> |
        @Html.ActionLink("返回", "Index")
    </div>

</p>
}
    <div id="progress" class="modal" align="center">
        <div class="center">
            
            <img src="~/images/loader4.gif" />
        </div>
    </div>
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>

    <script type="text/javascript">
        function OnSuccess(response) {

            alert("权重应用成功！");
        }
        function OnFailure(response) {
            alert("出现错误，请联系管理员");
        }
    </script>
